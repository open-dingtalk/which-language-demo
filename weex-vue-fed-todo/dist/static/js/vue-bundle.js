webpackJsonp([0],[function(t,e,o){"use strict";function s(){return $.bundleUrl}function i(t,e,o){var s=t.method,i=t.uri,a=t.body,n=t.type,r=t.headers;if(i&&"string"==typeof i){var c={method:s,type:n||"json",headers:r};if("GET"===s){var d=i.length-1,l=i.lastIndexOf("?");l>-1&&l===d&&(i=i.substring(0,l)),-1===l&&(i+="?"),"object"===(void 0===a?"undefined":x(a))&&null!==a&&(i+=S.stringify(a)),"string"==typeof a&&(i+=a),c.url=i}else c.url=i,c.body=a;w.fetch(c,function(t){var o=!1;t.ok&&(o=!0),"function"==typeof e&&e(o?null:{},t)},o)}}function a(){var t=$.originalUrl;return b.parse(t,"corpId")}function n(){return new Promise(function(t,e){y.a.ready(function(){y.a.apis.runtime.permission.requestAuthCode({corpId:a(),onSuccess:function(e){t(e)},onFail:function(t){e(t)}})})})}function r(t,e){var o=t.control;y.a.ready(function(){y.a.apis.biz.navigation.setRight(t),o&&y.a.on("navRightButton",e)})}function c(t){y.a.ready(function(){y.a.off("navRightButton",t)})}function d(t,e){var o=t.control;y.a.ready(function(){y.a.apis.biz.navigation.setLeft(t),o&&y.a.on("goBack",e)})}function l(t){k.toast({message:t,duration:2})}function u(t,e){k.confirm({message:t},function(t){"function"==typeof e&&e(t)})}function p(){return _++,String(_+"icepy")}function f(t){y.a.ready(function(){y.a.apis.biz.navigation.setTitle({title:t})})}e.f=s,e.g=i,e.h=n,e.c=r,e.e=c,e.b=d,e.a=l,e.i=u,e.d=p,e.j=f;var v=o(4),y=o.n(v),h=o(8),m=o.n(h),x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g=m.a.requireModule,S=m.a.querystring,b=m.a.url,$=m.a.env,k=g("modal"),w=g("stream"),_=1},,,,,function(t,e,o){"use strict";function s(t,e){new Date;n.a.ready(function(){n.a.apis.util.domainStorage.getItem({name:t,onSuccess:function(t){var o=t.value;if(!o)return void("function"==typeof e&&e(1,o));if("function"==typeof e)try{var s=JSON.parse(o);e(null,s)}catch(o){e(o,t)}}})})}function i(t,e){n.a.ready(function(){n.a.apis.util.domainStorage.setItem({name:t,value:JSON.stringify(e)})})}e.a=s,e.b=i;var a=o(4),n=o.n(a);o(0)},function(t,e,o){"use strict";function s(){var t={method:"GET",uri:r.a+"/api/get-user-info"};return new Promise(function(e,s){o.i(n.h)().then(function(i){var a=i.code;t.body={},t.body.code=a,o.i(n.g)(t,function(t,o){if(!t&&o.ok){var i=o.data;0===i.errcode?e(i):s(i)}})}).catch(function(t){s(t)})})}function i(t){var e={method:"GET",uri:r.a+"/api/get",body:{userid:t}};return new Promise(function(t,s){o.i(n.g)(e,function(e,o){if(!e&&o.ok){var i=o.data;0===i.errcode?t(i):s(i)}})})}e.a=s,e.b=i;var a=o(4),n=(o.n(a),o(0)),r=o(19)},,,function(t,e,o){"use strict";function s(t){t.use(i.a);var e=new i.a({routes:h}),s={show:!0,control:!0,text:"返回"},a=function(t){m.isWeb&&t.preventDefault(),e.go(-1)};return o.i(d.b)(s,a),{router:e}}e.a=s;var i=o(38),a=o(4),n=o.n(a),r=o(8),c=o.n(r),d=o(0),l=(o(6),o(28)),u=o.n(l),p=o(31),f=o.n(p),v=o(27),y=o.n(v),h=[{path:"/",name:"home",component:u.a},{path:"/list",name:"list",component:f.a},{path:"/add",name:"add",component:y.a}];n.a.error(function(t){console.log(JSON.stringify(t)),o.i(d.a)("Error : "+JSON.stringify(t))});var m=c.a.env},function(t,e,o){o(39);var s=o(2)(o(13),o(32),null,null);t.exports=s.exports},,,function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"root"}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(0),i=o(5);e.default={name:"add",data:function(){return{taskText:"",userId:""}},created:function(){o.i(s.c)({show:!1})},mounted:function(){this.userId=this.$route.params.userId},methods:{inputTask:function(t){this.taskText=t.value},goBack:function(){this.$router.go(-1)},enterTask:function(){if(console.log(this.userId),0===this.taskText.length)return void o.i(s.a)("enter text is empty");if(this.userId){var t=this,e={date:(new Date).getTime(),text:this.taskText,check:0,id:o.i(s.d)()};o.i(i.a)(this.userId,function(s,a){var n=void 0;console.log(s),1===s&&(n=[]),s||(n=a),n.push(e),o.i(i.b)(t.userId,n),t.goBack()})}else o.i(s.a)("Not Login")}}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(0);e.default={name:"home",data:function(){return{link:"Going DingTalk Todo List Application"}},created:function(){o.i(s.c)({show:!1}),o.i(s.j)("Todo")},mounted:function(){},methods:{getClick:function(){this.$router.push("list")}}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(0),i=o(5);e.default={name:"todo-cells",props:{todoList:Array,userId:String},data:function(){return{}},methods:{completeTask:function(t){t.check=0===t.check?1:0,o.i(i.b)(this.userId,this.todoList)},removeTask:function(t){var e=this;o.i(s.i)("really delete ?",function(s){"OK"===s&&(e.todoList.splice(t,1),o.i(i.b)(e.userId,e.todoList))})}}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});o(0);e.default={name:"todo-user",props:{userInfo:Object},data:function(){return{}},mounted:function(){},methods:{goAdd:function(){}}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(0),i=o(6),a=o(5),n=o(29),r=o.n(n),c=o(30),d=o.n(c);e.default={name:"todoapp",components:{TodoCells:r.a,TodoUser:d.a},data:function(){return{userId:"",todoList:[],userInfo:{avatar:"",name:"",mobile:""}}},created:function(){var t=this,e={show:!0,text:"add",control:!0};o.i(s.c)(e,this.gotoAddPage),this.$watch("userId",function(){t.fetchUserInfo(),t.fetchTodoList()})},mounted:function(){this.fetchUserId()},methods:{gotoAddPage:function(t){this.$router.push({name:"add",params:{userId:this.userId}})},fetchUserId:function(){var t=this;o.i(i.a)().then(function(e){t.userId=e.userid}).catch(function(t){o.i(s.a)("fetch user id error : "+JSON.stringify(t))})},fetchUserInfo:function(){var t=this;o.i(i.b)(this.userId).then(function(e){var o=e.avatar,s=e.name,i=e.mobile;t.userInfo={avatar:o,name:s,mobile:i}}).catch(function(t){o.i(s.a)("fetch user info error : "+JSON.stringify(t))})},fetchTodoList:function(){var t=this;o.i(a.a)(this.userId,function(e,o){e||1===e||(t.todoList=o)})}},beforeDestroy:function(){o.i(s.e)(this.gotoAddPage)}}},function(t,e,o){"use strict";o.d(e,"a",function(){return s});var s="http://www.w3crange.com"},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(11),i=o.n(s),a=o(12),n=o.n(a),r=o(10),c=o.n(r),d=o(9);n.a.init(i.a);var l=o.i(d.a)(i.a),u=l.router;new i.a(i.a.util.extend({el:"#root",router:u},c.a))},function(t,e,o){e=t.exports=o(1)(),e.push([t.i,".app-container{background-color:#fff}",""])},function(t,e,o){e=t.exports=o(1)(),e.push([t.i,".app-wrapper[data-v-6296f462]{width:750px;background-color:#f8f8f8}",""])},function(t,e,o){e=t.exports=o(1)(),e.push([t.i,".todo-num[data-v-6e8aca08]{color:red}.no-more[data-v-6e8aca08]{flex-direction:row;justify-content:center;align-items:center}.no-more-text[data-v-6e8aca08]{font-size:28px}.no-more-image[data-v-6e8aca08]{width:32px;height:32px;margin-right:10px}.app-todo-list[data-v-6e8aca08]{width:750px;height:800px}.app-todo-item[data-v-6e8aca08]{width:750px;justify-content:center;align-items:center}.todo-item[data-v-6e8aca08]{width:600px;background-color:#fff;padding:20px 10px;margin-bottom:10px;flex-direction:row}.todo-remove-box[data-v-6e8aca08]{flex-direction:column;justify-content:center;align-items:center}.todo-remove-image[data-v-6e8aca08]{width:32px;height:32px}.todo-no-check[data-v-6e8aca08]{border-bottom-color:#999;border-bottom-style:solid;border-bottom-width:5px}.todo-check[data-v-6e8aca08]{border-bottom-color:#42b983;border-bottom-style:solid;border-bottom-width:5px}.todo-text[data-v-6e8aca08]{width:550px}.todo-text-check[data-v-6e8aca08]{text-decoration:line-through}.todo-text-no-check[data-v-6e8aca08]{text-decoration:none}",""])},function(t,e,o){e=t.exports=o(1)(),e.push([t.i,".app-users[data-v-777cecf0]{width:750px;height:136px;background-color:#fff;flex-direction:row;margin-bottom:32px}.app-users-image-box[data-v-777cecf0]{width:148px;height:136px;justify-content:center;align-items:center}.app-users-image[data-v-777cecf0]{width:100px;height:100px;background-color:#f8f8f8}.app-users-name-box[data-v-777cecf0]{justify-content:center;align-items:center}.app-users-name[data-v-777cecf0]{font-size:34px;color:#323334}",""])},function(t,e,o){e=t.exports=o(1)(),e.push([t.i,".app-todo-add[data-v-d7ad519a]{width:750px;flex-direction:column;align-items:center;background-color:#f8f8f8}.app-todo-texttarea[data-v-d7ad519a]{margin-top:55px}.app-todo-input[data-v-d7ad519a]{width:550px;height:80px;border-bottom-color:#fff;border-bottom-style:solid;border-top-color:#fff;border-top-style:solid;border-left-color:#fff;border-left-style:solid;border:1px;border-right-color:#fff;border-right-style:solid;font-size:28px;padding-left:5px;padding-top:20px;background-color:#fff}.app-todo-add-operation[data-v-d7ad519a]{width:550px;height:80px;margin-top:35px;flex-direction:row;justify-content:center;align-items:center}.app-todo-confirm[data-v-d7ad519a]{width:270px;height:80px;background-color:#42b983;margin-right:10px;justify-content:center;align-items:center}.app-todo-cancel[data-v-d7ad519a]{width:270px;height:80px;background-color:#e06c75;justify-content:center;align-items:center}.operation-text[data-v-d7ad519a]{font-size:30px;color:#fff}",""])},function(t,e,o){e=t.exports=o(1)(),e.push([t.i,".wrapper[data-v-eabcc93a]{display:flex;flex-direction:column;justify-content:center;width:750px;background-color:#f8f8f8}.title[data-v-eabcc93a]{font-size:60px;width:750px;color:#505050;text-align:center}.subtitle[data-v-eabcc93a]{width:750px;font-size:30px;color:#aaa;text-align:center;margin-top:20px}",""])},function(t,e,o){o(43);var s=o(2)(o(14),o(36),"data-v-d7ad519a",null);t.exports=s.exports},function(t,e,o){o(44);var s=o(2)(o(15),o(37),"data-v-eabcc93a",null);t.exports=s.exports},function(t,e,o){o(41);var s=o(2)(o(16),o(34),"data-v-6e8aca08",null);t.exports=s.exports},function(t,e,o){o(42);var s=o(2)(o(17),o(35),"data-v-777cecf0",null);t.exports=s.exports},function(t,e,o){o(40);var s=o(2)(o(18),o(33),"data-v-6296f462",null);t.exports=s.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-container",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0)},[o("router-view",{staticStyle:t.$processStyle({flex:"1"}),style:t.$processStyle(void 0)})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-wrapper",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0)},[o("todo-user",{staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0),attrs:{"user-info":t.userInfo}}),t._v(" "),o("todo-cells",{staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0),attrs:{"todo-list":t.todoList,"user-id":t.userId}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[0===t.todoList.length?o("div",{staticClass:"no-more",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0)},[o("image",{staticClass:"no-more-image",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0),attrs:{src:"https://gw.alicdn.com/tfs/TB1SprZRXXXXXbnapXXXXXXXXXX-32-32.png"}}),t._v(" "),o("text",{staticClass:"no-more-text",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0)},[t._v("暂无数据")])]):o("list",{staticClass:"app-todo-list",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0)},t._l(t.todoList,function(e,s){return o("cell",{key:e.id,staticClass:"app-todo-item",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0)},[o("div",{class:["todo-item",e.check?"todo-check":"todo-no-check"],staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0)},[o("div",{staticClass:"todo-text",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0),on:{click:function(o){t.completeTask(e)}}},[o("text",{class:[e.check?"todo-text-check":"todo-text-no-check"],staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0)},[t._v(t._s(e.text))])]),t._v(" "),o("div",{staticClass:"todo-remove-box",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0),on:{click:function(e){t.removeTask(s)}}},[o("image",{staticClass:"todo-remove-image",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0),attrs:{src:"https://gw.alicdn.com/tfs/TB1D.3fRXXXXXbMXpXXXXXXXXXX-32-32.png"}})])])])}))],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-users",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0)},[o("div",{staticClass:"app-users-image-box",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0),on:{click:t.goAdd}},[o("image",{staticClass:"app-users-image",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0),attrs:{src:t.userInfo.avatar}})]),t._v(" "),o("div",{staticClass:"app-users-name-box",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0)},[o("text",{staticClass:"app-users-name",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0)},[t._v(t._s(t.userInfo.name))])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-todo-add",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0)},[o("div",{staticClass:"app-todo-texttarea",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0)},[o("textarea",{staticClass:"app-todo-input",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0),attrs:{placeholder:"enter your task text !!!",autofocus:"true",rows:"1"},on:{input:t.inputTask}})]),t._v(" "),o("div",{staticClass:"app-todo-add-operation",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0)},[o("div",{staticClass:"app-todo-confirm",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0),on:{click:t.enterTask}},[o("text",{staticClass:"operation-text",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0)},[t._v("confirm")])]),t._v(" "),o("div",{staticClass:"app-todo-cancel",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0),on:{click:t.goBack}},[o("text",{staticClass:"operation-text",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0)},[t._v("cancel")])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrapper",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0)},[o("text",{staticClass:"title",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0),on:{click:t.getClick}},[t._v(t._s(t.link))]),t._v(" "),o("text",{staticClass:"subtitle",staticStyle:t.$processStyle(void 0),style:t.$processStyle(void 0)},[t._v("Hello icepy,i love your playground !!!")])])},staticRenderFns:[]}},,function(t,e,o){var s=o(21);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);o(3)("4736e67d",s,!0)},function(t,e,o){var s=o(22);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);o(3)("20fe8bfe",s,!0)},function(t,e,o){var s=o(23);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);o(3)("72630da6",s,!0)},function(t,e,o){var s=o(24);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);o(3)("586f2ba1",s,!0)},function(t,e,o){var s=o(25);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);o(3)("1103a5aa",s,!0)},function(t,e,o){var s=o(26);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);o(3)("33e92bc3",s,!0)}],[20]);